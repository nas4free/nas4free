NAS4Free 9.3.0.2 - Nayla
------------------------

Changes:
- Upgrade to FreeBSD 9.3 RELEASE p9.
- Upgrade to Samba4.1 and add SMB3 in WebGUI.
- Convert to pkgng.
- Ability to backup and restore the encrypted configuration.
- Installation of system with GPT partition. (experimental)
- Improved WebGUI under PHP 5.6.
- Improved WebGUI with Chrome.
- Improved config restore verbose output.
- Improved ZFS pool usage/tool and import ZFS disks.
- Improved ZFS pool import on embedded.
- Improved HAST switch with net.inet.carp.preempt.
- Improved PHP session handle.
- Improved swap setting.
- Replaced /dev/md0 with xmd using LZ4 compression.
- Replaced the server certificate with 2048bits key and sha256 signature.
- Change iperf2.x for iperf3.
- Changed samba reload when changing the shares. (it takes few secs.)
- Changed rootfs layout. (2GB USB/CF is required. Full is 4GB or more.)
- Changed image files to use XZ.
- Drop SSLv3 support. (HTTPS must use TLS)
- Drop LiveCD mode support with less than 2GB memory. (install/upgrade only)
  Supported minimum spec except LiveCD is 512MB memory + 512MB swap device or partition.
  1024MB swap device or partition is recommended.
  File based swap and ZFS volume swap is not recommended.
- Add tcpdump.
- Add hostapd support. (wireless AP mode)
- Add WLAN virtual interface used for wireless device. (OPT only at this time)
- Add WebGUI access restriction.
- Add NFS support in HAST service.
- Add default swap of 512MB for LiveUSB and before user configuration.
- Adjust number of Status|Processes.
- Add MBR partition to LiveUSB.
- Add log/mirrored log support in Disks|ZFS|Pools|Tools.
- Add expires HTTP header. (some js must be force reloaded.)
- Add 10.1 bge driver & NAS4Free bge wol patch.
- Increase http upload size to 512MB.
- Remove last slash of the path added by filechooser.
- Add wait_on and spindown.
- Upgrade e2fsprogs to 1.42.12.
- Upgrade transmission to 2.84.
- Upgrade isboot to 0.2.8.
- Upgrade istgt to 20141125.
- Upgrade smartmontools 6.3
- Upgrade xmlstarlet to 1.6.1.
- Upgrade mDNSResponder to 561.1.1.
- Upgrade xmd to 0.4.2.
- Upgrade bash 4.3 to patch 33.
- Upgrade unison to 2.48.3.
- Upgrade netatalk to 3.1.7.
- Upgrade samba to 4.1.16.
- Upgrade iperf3 to 3.0.11.
- Upgrade php to 5.6.5.
- Upgrade zoneinfo to 2015a.
- Upgrade inadyn-mt to 02.24.44.

Fixes:
- Broken Wireless support.
- ZFS pool cache is not removed when deleting or reseting to factory default.
- Missing /etc/uams/uams_randnum.so
- Missing nutdrv_atcl_usb nut driver.
- Never reject SMB3 and sendfile combination.
- Failed to mount NTFS with read-only.
- Missing mount_fusefs in /usr/local/sbin.
- Missing usb device configuration file.
- Missing default pkg repository.
- mount_ntfs is not installed to /sbin.
- Wrong variable in HAST script.
- /boot/kernel/fuse.ko is missing.
- /etc/platform is broken on full installation.
- Some DHCP setting of WebGUI does not work. 
- xmlrpc is broken.
- Missing GPT partition in Disks|ZFS|Pools|Tools.
- Switching DHCP and static IP cause unexpected behavior.
- Some drives can't get disk model/description.
- The text on graph is not sized on Chrome.
- Firmware page show incorrectly.
- ntfs-3g is broken.
- Form size is too small on Chrome.
- HAST device is not imported by import disks.
- Stop flooding "Unknown USB device" to syslog.

Permanent restrictions:
- It is not possible to format a SoftRAID disk with MSDOS FAT16/32.
- It is not possible to encrypt a disk partition, only complete disks are supported.

Known bugs:
- If DHCP for IPv4 is used, the IPv6 statically configured DNS server will be
  overriden by the IPv4 DNS server.

NEED TESTING:
- IPv6: auto mode
- All services using IPv6 address (NFS, FTP, etc...)
- Netatalk VFS Samba module (automatically enabled when Netatalk starts) crashes
  samba when accessing to share
- Need to write an online-test procedure

Help needed:
- Need help for adding LDAP authentication feature:
  Main services can be easily authenticated using PAM-LDAP, but is harder for Samba.

